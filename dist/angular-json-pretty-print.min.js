var jsonPrettyPrint=angular.module("JsonPrettyPrint",["ngSanitize"]);angular.module("JsonPrettyPrint").run(["$templateCache",function(a){"use strict";a.put("component/templates/jsonPrettyPrint.html",'<code>\n    <div class="json-treeview" data-ng:repeat="line in jsonPretty" data-ng:include="\'component/templates/line.html\'">\n    </div>\n</code>'),a.put("component/templates/jsonTag.html",'<div class="json-elements" ng-bind-html="deliberatelyTrustDangerousSnippet()"></div>'),a.put("component/templates/line.html",'<rm-json-tag elements="line.elements"></rm-json-tag>\n<div class="json-new-line" data-ng:repeat="line in line.lines" data-ng:include="\'component/templates/line.html\'" data-id="{{line.plusId}}">\n</div>')}]),function(){function a(a){var b=function(){var a={};return a.id="",a.isPlusIcon=!1,a.element="  ",a.style="",a["class"]="json-blank",a},c=function(){var a={};return a.id="",a.isPlusIcon=!1,a.element=",",a.style="",a["class"]="json-comma",a},d=function(a,b){var c={};return c.id="",c.isPlusIcon=!1,c.element=a,c.style="color:"+b.keyColor+"; background-color:"+b.keyHighLightColor,c["class"]="json-key",c},e=function(){var a={};return a.id="",a.isPlusIcon=!1,a.element=":",a.style="",a["class"]="json-two-points",a},f=function(a,b,c,d){var e={};return"string"==typeof a?g(a,b):null===a?g("null",b):Array.isArray(a)?k(a,b,c,d):"object"==typeof a?j(a,b,c,d):(e.id="",e.isPlusIcon=!1,e.element=a,e.style="color:"+b.valueColor+"; background-color:"+b.valueHighLightColor,e["class"]="json-value",e)},g=function(a,b){var c={};return c.id="",c.isPlusIcon=!1,c.element='"'+a+'"',c.style="color:"+b.stringColor+"; background-color:"+b.stringHighLightColor,c["class"]="json-string",c},h=function(a,b){return a&&(b+=1,a.lines&&a.lines.forEach(function(a){b=h(a.elements,b)})),b},i=function(a,c,d,e,f,g){var h,i=!1,j=!1,k=[];if(c.length>0&&(i="json-brace"===c[0].elements[c[0].elements.length-1]["class"],j="json-bracket"===c[0].elements[c[0].elements.length-1]["class"]),i||j){var l=c[0].elements[0],m=c[0].elements[c[0].elements.length-1];for(g.elements.push(l),g.elements.push(m),g.lines=g.lines.concat(c[0].lines),k.push(g),g={elements:[],lines:[],plusId:"plus_"+e},h=0;d>h;h+=1)g.elements.push(b());c[1].elements.forEach(function(a){g.elements.push(a)})}else g.elements.push(c);return k.push(g),k},j=function(a,g,j,k){var l=[],m={elements:[],lines:[]},n={},o=0,p=k;return n.id="plus_"+k,n.isPlusIcon=!0,n.element="",n.style="",n["class"]="plus-icon",m.elements.push(n),n={},n.id="",n.isPlusIcon=!1,n.element="{",n.style="color:"+g.braceColor+"; background-color:"+g.braceHighLightColor,n["class"]="json-brace",m.elements.push(n),j+=1,o=Object.keys(a).length-1,Object.keys(a).forEach(function(l,n){var q,r,s,t={elements:[],lines:[],plusId:"plus_"+k};for(r=0;j>r;r+=1)t.elements.push(b());t.elements.push(d(l,g)),t.elements.push(e()),("object"==typeof a[l]||Array.isArray(a[l]))&&(p+=1),q=f(a[l],g,j,p),s=i(a,q,j,k,p,t),s.forEach(function(a,b){b===s.length-1?t=a:m.lines.push(a)}),q.length>0&&q.forEach(function(a){a.lines&&a.lines&&a.lines.forEach(function(a){p=h(a,p)})}),o>n&&t.elements.push(c()),m.lines.push(t)}),l.push(m),m={elements:[],lines:[]},n={},n.id="",n.isPlusIcon=!1,n.isBlank=!1,n.element="}",n.style="color:"+g.braceColor+"; background-color:"+g.braceHighLightColor,n["class"]="json-brace",m.elements.push(n),l.push(m),l},k=function(a,d,e,g){var j,k=[],l={elements:[],lines:[]},m={},n=0,o=g;return m.id="plus_"+g,m.isPlusIcon=!0,m.element="",m.style="",m["class"]="plus-icon",l.elements.push(m),m={},m.id="",m.isPlusIcon=!1,m.element="[",m.style="color:"+d.braceColor+"; background-color:"+d.braceHighLightColor,m["class"]="json-bracket",l.elements.push(m),e+=1,n=a.length-1,a.forEach(function(k,m){var p,q;for(j={elements:[],lines:[],plusId:"plus_"+g},counter=0;counter<e;counter+=1)j.elements.push(b());("object"==typeof k||Array.isArray(k))&&(o+=1),p=f(k,d,e,o),q=i(a,p,e,g,o,j),q.forEach(function(a,b){b===q.length-1?j=a:l.lines.push(a)}),p.length>0&&p.forEach(function(a){a.lines&&a.lines&&a.lines.forEach(function(a){o=h(a,o)})}),n>m&&j.elements.push(c()),l.lines.push(j)}),k.push(l),l={elements:[],lines:[],plusId:"plus_"+g},m={},m.id="",m.isPlusIcon=!1,m.isBlank=!1,m.element="]",m.style="color:"+d.braceColor+"; background-color:"+d.braceHighLightColor,m["class"]="json-bracket",l.elements.push(m),k.push(l),k},l=function(a,b){var c=JSON.parse(a),d=[],e=0,f=0,g=[];return Array.isArray(c)?(g=k(c,b,e,f),d=d.concat(g)):(g=j(c,b,e,f),d=d.concat(g)),d},m="component/templates/jsonPrettyPrint.html";return{restrict:"E",templateUrl:m,replace:!0,scope:{styles:"@"},link:function(b,c,d){d.$observe("json",function(d){var e,f={braceColor:"#000000",braceHighLightColor:"#FFFFFF",keyColor:"#A52A2A",keyHighLightColor:"#FFFFFF",stringColor:"#C0FF3E",stringHighLightColor:"#FFFFFF",valueColor:"#000080",valueHighLightColor:"#FFFFFF"};b.styles?("string"==typeof b.styles&&(b.styles=JSON.parse(b.styles)),e=angular.extend({},f,b.styles)):e=f,b.jsonPretty=l(d,e),b.timer=a(function(){var a=c.find("i");a.on("click",function(a){var b=angular.element,d=angular.element(a.target).prop("id"),e=b(c[0].querySelector("#"+d)),f=b(c[0].querySelectorAll(".json-treeview"));b(a.target).hasClass("fa-plus-square-o")?(b(e).removeClass("fa-plus-square-o"),b(e).addClass("fa-minus-square-o"),b(b(f)[0].querySelectorAll('[data-id="'+d+'"]')).css("display","block")):(b(e).removeClass("fa-minus-square-o"),b(e).addClass("fa-plus-square-o"),b(b(f)[0].querySelectorAll('[data-id="'+d+'"]')).css("display","none"))})})})}}}jsonPrettyPrint.directive("rmJsonPrettyPrint",["$timeout",a])}(),function(){function a(a){var b=function(a){var b="";return b='<i class="fa fa-minus-square-o plus-icon '+a["class"]+'" id="'+a.id+'"></i>'},c=function(a){var b="";return b='<span class="'+a["class"]+'" style="'+a.style+'">'+a.element+"</span>"},d="component/templates/jsonTag.html";return{restrict:"E",templateUrl:d,replace:!0,scope:{elements:"="},link:function(d){d.tags="",d.elements.forEach(function(a){d.tags=a.isPlusIcon?d.tags+b(a):d.tags+c(a)}),d.deliberatelyTrustDangerousSnippet=function(){return a.trustAsHtml(d.tags)}}}}jsonPrettyPrint.directive("rmJsonTag",["$sce",a])}();